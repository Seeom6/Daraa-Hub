# ============================================
# Production Environment Configuration
# ============================================
# IMPORTANT: Change all default passwords before deploying!
# ============================================

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
PORT=3001
APP_URL=https://api.daraa.com
CLIENT_URL=https://daraa.com

# ============================================
# MongoDB Configuration (with Authentication)
# ============================================
# Root User (for admin operations)
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=CHANGE_THIS_IN_PRODUCTION

# Application User (for app operations)
MONGO_APP_USERNAME=daraa_app
MONGO_APP_PASSWORD=CHANGE_THIS_IN_PRODUCTION

# MongoDB URI (with authentication)
# For Docker: use service name (mongodb)
# For external: use IP/domain
MONGODB_URI=mongodb://daraa_app:CHANGE_THIS_IN_PRODUCTION@mongodb:27017/daraa?authSource=daraa

# MongoDB Connection Pool Settings
MONGODB_MAX_POOL_SIZE=50
MONGODB_MIN_POOL_SIZE=10
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000
MONGODB_SOCKET_TIMEOUT_MS=45000
MONGODB_CONNECT_TIMEOUT_MS=10000
MONGODB_RETRY_WRITES=true
MONGODB_WRITE_CONCERN=majority
MONGODB_READ_PREFERENCE=primaryPreferred

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_IN_PRODUCTION
REDIS_DB=0

# ============================================
# JWT Configuration
# ============================================
# IMPORTANT: Generate strong random secrets!
# Use: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_IN_PRODUCTION
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=CHANGE_THIS_IN_PRODUCTION
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# Cookie Settings
# ============================================
COOKIE_SECRET=CHANGE_THIS_IN_PRODUCTION

# ============================================
# Twilio SMS Service
# ============================================
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# OTP Settings
# ============================================
OTP_EXPIRY_MINUTES=5
OTP_MAX_ATTEMPTS=3
OTP_LENGTH=6

# ============================================
# Email Service (SMTP)
# ============================================
EMAIL_PROVIDER=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_FROM_NAME=Daraa Platform
EMAIL_FROM_ADDRESS=noreply@daraa.com

# Gmail Specific
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USER=your-email@gmail.com
MAIL_PASS=your-app-password
MAIL_FROM_NAME=Daraa Platform
GMAIL_USER=your-email@gmail.com
GMAIL_APP_PASSWORD=your-app-password

# ============================================
# AWS S3 (for file storage & backups)
# ============================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=daraa-uploads

# S3 Backup Configuration
S3_BACKUP_BUCKET=daraa-backups
S3_BACKUP_ENABLED=true

# ============================================
# Rate Limiting
# ============================================
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# Auth Rate Limiting (stricter in production)
AUTH_THROTTLE_LIMIT=5

# ============================================
# Monitoring & Logging
# ============================================
LOG_LEVEL=info
ENABLE_METRICS=true
ENABLE_TRACING=false

# ============================================
# Security
# ============================================
ENABLE_CORS=true
ENABLE_HELMET=true
ENABLE_RATE_LIMIT=true

# ============================================
# Backup Configuration
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

